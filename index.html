<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>DreaxBot</title>
<style>
  body {
    margin: 0;
    font-family: Arial, sans-serif;
    color: white;
    background: radial-gradient(#000010, #000030);
    overflow: hidden;
  }

  /* Galaksi animasyonu */
  .stars {
    position: absolute;
    width: 100%;
    height: 100%;
    background: transparent;
    overflow: hidden;
  }
  .star {
    position: absolute;
    width: 2px;
    height: 2px;
    background: white;
    border-radius: 50%;
    animation: twinkle 3s infinite;
  }
  @keyframes twinkle {
    0%, 100% { opacity: 0.3; }
    50% { opacity: 1; }
  }

  .container {
    position: relative;
    z-index: 1;
    text-align: center;
    padding-top: 100px;
  }

  #botIcon {
    width: 120px;
    height: 120px;
    border-radius: 50%;
    border: 2px solid white;
    margin-bottom: 20px;
    transition: 0.3s;
  }

  /* Soluklaşma efektini çevrimdışı için */
  .offline {
    filter: grayscale(100%) brightness(50%);
  }

  #botStatus {
    width: 15px;
    height: 15px;
    border-radius: 50%;
    display: inline-block;
    margin-right: 8px;
    vertical-align: middle;
    transition: 0.3s;
  }

  #statusText {
    font-weight: bold;
    margin-right: 15px;
  }

  #serverCount {
    margin-top: 10px;
    font-size: 18px;
  }

  a {
    color: white;
    text-decoration: underline;
    display: block;
    margin-top: 20px;
  }
</style>
</head>
<body>
<div class="stars" id="stars"></div>

<div class="container">
  <img id="botIcon" src="https://yt3.googleusercontent.com/qYAbjn_iUHrXD5oDeb7EepTktKb0K4cw-kRp5UiHrVjuBfO9h14ps4rn5WuiBAnVtm5U_XGgWNA=s160-c-k-c0x00ffffff-no-rj" alt="DreaxBot">
  <div>
    <span id="botStatus"></span>
    <span id="statusText">Yükleniyor...</span>
  </div>
  <div id="serverCount">Sunucular: 0</div>
  <a href="https://discord.com/api/oauth2/authorize?client_id=1408691277578375289&permissions=8&scope=bot%20applications.commands">Botu Sunucuna Ekle</a>
</div>

<script>
// Galaksi yıldızları
const starsEl = document.getElementById('stars');
for(let i=0;i<200;i++){
  const star = document.createElement('div');
  star.className = 'star';
  star.style.top = Math.random()*100 + '%';
  star.style.left = Math.random()*100 + '%';
  star.style.width = star.style.height = Math.random()*2 + 1 + 'px';
  star.style.animationDuration = (Math.random()*3 + 2) + 's';
  starsEl.appendChild(star);
}

// Durum güncelleme
function updateStatus(data){
  const statusCircle = document.getElementById('botStatus');
  const statusText = document.getElementById('statusText');
  const serverCount = document.getElementById('serverCount');
  const botIcon = document.getElementById('botIcon');

  if(data.online){
    statusCircle.style.backgroundColor = 'limegreen';
    statusText.textContent = 'Çevrimiçi';
    botIcon.classList.remove('offline');
  } else {
    statusCircle.style.backgroundColor = 'red';
    statusText.textContent = 'Çevrimdışı';
    botIcon.classList.add('offline');
  }

  serverCount.textContent = `Sunucular: ${data.guildCount}`;
}

// İlk fetch
fetch('http://localhost:3000/status')
  .then(res => res.json())
  .then(data => updateStatus(data))
  .catch(err => updateStatus({ online: false, guildCount: 0 }));

// 10 saniyede bir otomatik güncelle
setInterval(() => {
  fetch('http://localhost:3000/status')
    .then(res => res.json())
    .then(data => updateStatus(data))
    .catch(err => updateStatus({ online: false, guildCount: 0 }));
</script>
</body>
</html>
